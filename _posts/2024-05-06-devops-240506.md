---
title: "Space Pong κ°λ° ν™κ²½ μ„Έν…"
excerpt: "Space Pong κ°λ° ν™κ²½ μ„Έν…"

categories:
  - λ°λΈμµμ¤

permalink: /categories/devops/240506/

toc: true
toc_sticky: true

date: 2024-05-06
last_modified_at: 2024-05-06
---

# Space Pong κ°λ° ν™κ²½ μ„Έν…
`κ°ν¬ ν΄λ¬μ¤ν„°`λ¥Ό κΈ°μ¤€μΌλ΅ μ„¤λ…ν•©λ‹λ‹¤.  

---

## κµ¬μ„±
[WSGI λ νΌλ°μ¤](https://wikidocs.net/75556)
![Structure](img/240506_structrue.png)

---

## μ‚¬μ „ μ”κµ¬μ‚¬ν•­
- Intel CPU Mac.
- MacOS Version = 10.15.7.
- Docker Engine Version = v20.10.17.  
  π’΅ ν΄λ¬μ¤ν„°μ `Managed Software Center`μ—μ„ `Docker`λ¥Ό μ„¤μΉ ν›„ μ‹¤ν–‰ν•©λ‹λ‹¤.

---

## μ„¤μΉ
1. [Space Pong λ¦¬ν¬μ§€ν† λ¦¬](https://github.com/space-pong/SpacePong)λ¥Ό git cloneμΌλ΅ λ°›μ•„μ£Όμ„Έμ”.  
```bash
$> git clone https://github.com/space-pong/SpacePong.git
```

2. ν”„λ΅μ νΈ ν΄λ”λ΅ μ΄λ™ν•©λ‹λ‹¤.
```bash
$> cd SpacePong/
```

3. "make" λ…λ Ήμ–΄λ΅ μ›Ή μ„λ²„λ¥Ό λΉλ“ λ° μ‹¤ν–‰ν•©λ‹λ‹¤.
    > λ‚΄λ¶€μ μΌλ΅ docker-compose.ymlλ¥Ό μ‚¬μ©ν•μ—¬ μ»¨ν…μ΄λ„λ¥Ό λΉλ“ λ° μ‹¤ν–‰ν•©λ‹λ‹¤.
```bash
$> make
```

4. μ›Ή λΈλΌμ°μ €μ—μ„ μ›Ή νμ΄μ§€ μ ‘μ†
- URL : https://localhost

---

## Frontend
- μ†μ¤ μ½”λ“ λ””λ ‰ν† λ¦¬ : frontend/srcs
  - μ„μ λ””λ ‰ν† λ¦¬μ— μ‘μ—…ν•μ‹  μ†μ¤ νμΌλ“¤ μ¶”κ°€ν•μ‹λ©΄ λ©λ‹λ‹¤.
- Frontendλ” μ†μ¤ νμΌ μμ •ν•λ©΄ μ›Ή νμ΄μ§€μ— λ°”λ΅λ°”λ΅ μ μ©λ©λ‹λ‹¤.
- https://localhost μ ‘μ† μ‹, index νμ΄μ§€κ°€ λ‚μ¤λ©΄ μ •μƒ λ™μ‘μ…λ‹λ‹¤.

---

## Backend
- μ†μ¤ μ½”λ“ λ””λ ‰ν† λ¦¬ : backend/srcs
  - μ„μ λ””λ ‰ν† λ¦¬μ— μ‘μ—…ν•μ‹  μ†μ¤ νμΌλ“¤ μ¶”κ°€ν•μ‹λ©΄ λ©λ‹λ‹¤.
- Django μ‚¬μ©μ„ μ„ν•΄μ„λ” νμ΄μ¬ κ°€μƒ ν™κ²½μ„ κΌ­ μ‚¬μ©ν•μ…”μ•Ό ν•©λ‹λ‹¤.
  - νμ΄μ¬ κ°€μƒ ν™κ²½μ„ μ‚¬μ©ν•μ§€ μ•μΌλ©΄, Django μ„¤μΉκ°€ λμ§€ μ•μ•„ μ‚¬μ©μ΄ λ¶κ°€λ¥ν•©λ‹λ‹¤. (ν΄λ¬μ¤ν„°μ—μ„λ§ κ·Έλ°λ“―..)
  - νμ΄μ¬ κ°€μƒ ν™κ²½μ€ μ•„λμ™€ κ°™μ΄ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
    1. νμ΄μ¬ κ°€μƒ ν™κ²½ μƒμ„±
      ```bash
      $> python3 -m venv [κ°€μƒ ν™κ²½μ„ μƒμ„±ν•  λ””λ ‰ν† λ¦¬]
      ```
    2. μƒμ„±λ νμ΄μ¬ κ°€μƒ ν™κ²½ μ‚¬μ©
      ```bash
      $> source [μƒμ„±λ κ°€μƒ ν™κ²½ λ””λ ‰ν† λ¦¬]/bin/activate
      ```
  - νμ΄μ¬ κ°€μƒ ν™κ²½ λ””λ ‰ν† λ¦¬λ” μ›ν•μ‹λ” κ³³μ— λ§λ“μ‹λ©΄ λ©λ‹λ‹¤.
  - κ°€μƒ ν™κ²½μ΄ μ •μƒμ μΌλ΅ μ‚¬μ©λλ©΄, ν„°λ―Έλ„ μ™Όμ½μ— (λ””λ ‰ν† λ¦¬λ…)μ΄ λ‚νƒ€λ‚©λ‹λ‹¤.
  - Django μ‘μ—… μ „μ—, νμ΄μ¬ κ°€μƒ ν™κ²½μ„ μ‚¬μ©ν•΄μ£Όμ‹κΈ°λ§ ν•λ©΄ λ©λ‹λ‹¤.
  - λ§¨ μ²μ κ°€μƒ ν™κ²½ μƒμ„± ν›„, μ΄ν›„ λ¶€ν„°λ” .zshrc νμΌμ— aliasλ¥Ό μ¶”κ°€ν•΄μ„ λΉ λ¥΄κ² κ°€μƒ ν™κ²½μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
- μ–΄λ–¤ κΈ°λ¥μ΄ ν•„μ”ν•μ—¬ ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•΄μ•Όν•λ” κ²½μ°, `requirements.txt` νμΌμ— ν•΄λ‹Ή ν¨ν‚¤μ§€λ¥Ό μ μ–΄μ£Όμ‹κ³  μ»¨ν…μ΄λ„λ¥Ό λ‹¤μ‹ λ§λ“¤μ–΄μ£Όμ‹λ©΄ λ©λ‹λ‹¤.
- Backendλ” μ†μ¤ νμΌμ„ μμ •ν• κ²½μ°, μ»¨ν…μ΄λ„ μ¬μ‹μ‘μ΄ ν•„μ”ν•©λ‹λ‹¤. (κ³µν†µ λ©μ°¨μ—μ„ μ„¤λ…)
- http://localhost:8000 μ ‘μ† μ‹, Django νμ΄μ§€κ°€ λ‚μ¤λ©΄ μ •μƒ λ™μ‘μ…λ‹λ‹¤.

---

## κ³µν†µ
- μ»¨ν…μ΄λ„ μ΄κΈ°ν™” ν›„ μ¬μ‹μ‘
  - `make fclean` λ…λ Ήμ–΄ μ‚¬μ© ν›„, λ‹¤μ‹ `make` ν•μ‹λ©΄ λ©λ‹λ‹¤.
- Backendμ— μƒλ΅μ΄ μ½”λ“ μ μ©
  - Backendλ” μƒλ΅μ΄ μ½”λ“λ¥Ό μ μ©ν•λ ¤λ©΄, μƒλ΅μ΄ μ½”λ“λ¥Ό λ°›μ•„μ¨ λ’¤ μ»¨ν…μ΄λ„λ¥Ό μ¬μ‹μ‘ν•΄μ•Ό ν•©λ‹λ‹¤.
  - μ•„λ λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•λ©΄ λΉ λ¥΄κ² μ»¨ν…μ΄λ„λ¥Ό μ¬μ‹μ‘ ν•  μ μμµλ‹λ‹¤.  
    ```bash
    $> docker restart spacepong-backend-1
    ```
    - λ§¨ λ’¤μ `spacepong-backend-1`λ” `docker ps` λ…λ Ήμ–΄μ `NAMES` λ¶€λ¶„μ— λ‚μ¤λ” μ»¨ν…μ΄λ„ μ΄λ¦„μ…λ‹λ‹¤.

---

## μ¤‘μ” μ •λ³΄
- Frontend -> Backend API μ”μ²­ URLμ„ μ„μ‹λ΅ `/api/`λ΅ μ„¤μ •ν•΄λ‘” μƒνƒμ΄λ©°, μ¶”ν›„ μƒν™©μ— λ”°λΌ λ³€κ²½ν•  μ μμµλ‹λ‹¤.
- HTTPSλ¥Ό ν†µν•΄ μ›Ή νμ΄μ§€μ— μ ‘μ† κ°€λ¥ν•©λ‹λ‹¤.
- μ κ³µλμ§€ μ•λ” URL μ ‘μ†μ‹, Error νμ΄μ§€ λ€μ‹ μ— index.htmlμ— λ¨Έλ¬΄λ¥΄λ„λ΅ μ„¤μ •λμ–΄ μμµλ‹λ‹¤. (SPA)
- κ° μ»¨ν…μ΄λ„λ“¤μ΄ μ •μƒ λ™μ‘μ€ λμ§€λ§, API λ° DB μ—°λ™ ν…μ¤νΈλ” μ•„μ§ μ•ν•΄λ³Έ μƒνƒμ…λ‹λ‹¤.
